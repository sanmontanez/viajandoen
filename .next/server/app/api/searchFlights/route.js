"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/searchFlights/route";
exports.ids = ["app/api/searchFlights/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2FsearchFlights%2Froute&page=%2Fapi%2FsearchFlights%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2FsearchFlights%2Froute.js&appDir=%2FUsers%2Fmarlonmontanez%2Fmy-travel-agency%2Fviajandoen%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmarlonmontanez%2Fmy-travel-agency%2Fviajandoen&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2FsearchFlights%2Froute&page=%2Fapi%2FsearchFlights%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2FsearchFlights%2Froute.js&appDir=%2FUsers%2Fmarlonmontanez%2Fmy-travel-agency%2Fviajandoen%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmarlonmontanez%2Fmy-travel-agency%2Fviajandoen&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_marlonmontanez_my_travel_agency_viajandoen_src_app_api_searchFlights_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/searchFlights/route.js */ \"(rsc)/./src/app/api/searchFlights/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/searchFlights/route\",\n        pathname: \"/api/searchFlights\",\n        filename: \"route\",\n        bundlePath: \"app/api/searchFlights/route\"\n    },\n    resolvedPagePath: \"/Users/marlonmontanez/my-travel-agency/viajandoen/src/app/api/searchFlights/route.js\",\n    nextConfigOutput,\n    userland: _Users_marlonmontanez_my_travel_agency_viajandoen_src_app_api_searchFlights_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/searchFlights/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZzZWFyY2hGbGlnaHRzJTJGcm91dGUmcGFnZT0lMkZhcGklMkZzZWFyY2hGbGlnaHRzJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGc2VhcmNoRmxpZ2h0cyUyRnJvdXRlLmpzJmFwcERpcj0lMkZVc2VycyUyRm1hcmxvbm1vbnRhbmV6JTJGbXktdHJhdmVsLWFnZW5jeSUyRnZpYWphbmRvZW4lMkZzcmMlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGbWFybG9ubW9udGFuZXolMkZteS10cmF2ZWwtYWdlbmN5JTJGdmlhamFuZG9lbiZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDb0M7QUFDakg7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS10cmF2ZWwtYWdlbmN5Lz82YmZiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9tYXJsb25tb250YW5lei9teS10cmF2ZWwtYWdlbmN5L3ZpYWphbmRvZW4vc3JjL2FwcC9hcGkvc2VhcmNoRmxpZ2h0cy9yb3V0ZS5qc1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvc2VhcmNoRmxpZ2h0cy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3NlYXJjaEZsaWdodHNcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3NlYXJjaEZsaWdodHMvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvbWFybG9ubW9udGFuZXovbXktdHJhdmVsLWFnZW5jeS92aWFqYW5kb2VuL3NyYy9hcHAvYXBpL3NlYXJjaEZsaWdodHMvcm91dGUuanNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3NlYXJjaEZsaWdodHMvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2FsearchFlights%2Froute&page=%2Fapi%2FsearchFlights%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2FsearchFlights%2Froute.js&appDir=%2FUsers%2Fmarlonmontanez%2Fmy-travel-agency%2Fviajandoen%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmarlonmontanez%2Fmy-travel-agency%2Fviajandoen&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/searchFlights/route.js":
/*!********************************************!*\
  !*** ./src/app/api/searchFlights/route.js ***!
  \********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_amadeus__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/amadeus */ \"(rsc)/./src/lib/amadeus.js\");\n\n\nconst MARGIN_PERCENTAGE = 0.10; // Margen de ganancia por defecto del 15%\nconst MAX_RETRIES = 3;\nconst RETRY_DELAY = 2000; // 2 segundos\nconst delay = (ms)=>new Promise((resolve)=>setTimeout(resolve, ms));\nconst fetchFlightOffers = async (params, retries = 0)=>{\n    try {\n        const response = await _lib_amadeus__WEBPACK_IMPORTED_MODULE_1__[\"default\"].shopping.flightOffersSearch.get(params);\n        return response;\n    } catch (error) {\n        if (error.code === \"ClientError\" && error.response.statusCode === 429 && retries < MAX_RETRIES) {\n            await delay(RETRY_DELAY);\n            return fetchFlightOffers(params, retries + 1);\n        }\n        throw error;\n    }\n};\nasync function POST(request) {\n    try {\n        const { origin, destination, departureDate, returnDate, adults } = await request.json();\n        if (!origin || !destination || !departureDate || !adults) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Missing required fields\"\n            }, {\n                status: 400\n            });\n        }\n        const params = {\n            originLocationCode: origin,\n            destinationLocationCode: destination,\n            departureDate,\n            adults\n        };\n        if (returnDate) {\n            params.returnDate = returnDate;\n        }\n        const response = await fetchFlightOffers(params);\n        const flightOffers = response.data.map((offer)=>{\n            const originalPrice = parseFloat(offer.price.total);\n            const departureMonth = new Date(departureDate).getMonth();\n            let marginPercentage = MARGIN_PERCENTAGE;\n            if (departureMonth === 8) {\n                if (destination === \"GIG\") {\n                    marginPercentage = 0.1; // Ajusta esto según sea necesario\n                } else {\n                    marginPercentage = 0.0; // Ajusta esto según sea necesario\n                }\n            }\n            const priceWithMargin = (originalPrice * (1 + marginPercentage)).toFixed(2);\n            return {\n                ...offer,\n                price: {\n                    ...offer.price,\n                    total: priceWithMargin\n                }\n            };\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(flightOffers);\n    } catch (error) {\n        console.error(\"Error fetching flight data:\", error);\n        let errorMessage = \"Error fetching flight data\";\n        let statusCode = 500;\n        if (error.response) {\n            const { statusCode: responseStatusCode, result } = error.response;\n            if (responseStatusCode === 401) {\n                errorMessage = \"Authentication failed. Please check your credentials.\";\n            } else if (responseStatusCode === 429) {\n                errorMessage = \"Too many requests. Please try again later.\";\n            } else {\n                errorMessage = result?.error_description || result?.title || errorMessage;\n                statusCode = responseStatusCode;\n            }\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            message: errorMessage,\n            details: error.message\n        }, {\n            status: statusCode\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9zZWFyY2hGbGlnaHRzL3JvdXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUEyQztBQUNBO0FBRTNDLE1BQU1FLG9CQUFvQixNQUFNLHlDQUF5QztBQUN6RSxNQUFNQyxjQUFjO0FBQ3BCLE1BQU1DLGNBQWMsTUFBTSxhQUFhO0FBRXZDLE1BQU1DLFFBQVEsQ0FBQ0MsS0FBTyxJQUFJQyxRQUFRLENBQUNDLFVBQVlDLFdBQVdELFNBQVNGO0FBRW5FLE1BQU1JLG9CQUFvQixPQUFPQyxRQUFRQyxVQUFVLENBQUM7SUFDbEQsSUFBSTtRQUNGLE1BQU1DLFdBQVcsTUFBTVosb0RBQU9BLENBQUNhLFFBQVEsQ0FBQ0Msa0JBQWtCLENBQUNDLEdBQUcsQ0FBQ0w7UUFDL0QsT0FBT0U7SUFDVCxFQUFFLE9BQU9JLE9BQU87UUFDZCxJQUFJQSxNQUFNQyxJQUFJLEtBQUssaUJBQWlCRCxNQUFNSixRQUFRLENBQUNNLFVBQVUsS0FBSyxPQUFPUCxVQUFVVCxhQUFhO1lBQzlGLE1BQU1FLE1BQU1EO1lBQ1osT0FBT00sa0JBQWtCQyxRQUFRQyxVQUFVO1FBQzdDO1FBQ0EsTUFBTUs7SUFDUjtBQUNGO0FBRU8sZUFBZUcsS0FBS0MsT0FBTztJQUNoQyxJQUFJO1FBQ0YsTUFBTSxFQUFFQyxNQUFNLEVBQUVDLFdBQVcsRUFBRUMsYUFBYSxFQUFFQyxVQUFVLEVBQUVDLE1BQU0sRUFBRSxHQUFHLE1BQU1MLFFBQVFNLElBQUk7UUFFckYsSUFBSSxDQUFDTCxVQUFVLENBQUNDLGVBQWUsQ0FBQ0MsaUJBQWlCLENBQUNFLFFBQVE7WUFDeEQsT0FBTzFCLHFEQUFZQSxDQUFDMkIsSUFBSSxDQUFDO2dCQUFFVixPQUFPO1lBQTBCLEdBQUc7Z0JBQUVXLFFBQVE7WUFBSTtRQUMvRTtRQUVBLE1BQU1qQixTQUFTO1lBQ2JrQixvQkFBb0JQO1lBQ3BCUSx5QkFBeUJQO1lBQ3pCQztZQUNBRTtRQUNGO1FBRUEsSUFBSUQsWUFBWTtZQUNkZCxPQUFPYyxVQUFVLEdBQUdBO1FBQ3RCO1FBRUEsTUFBTVosV0FBVyxNQUFNSCxrQkFBa0JDO1FBRXpDLE1BQU1vQixlQUFlbEIsU0FBU21CLElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUNDO1lBQ3RDLE1BQU1DLGdCQUFnQkMsV0FBV0YsTUFBTUcsS0FBSyxDQUFDQyxLQUFLO1lBQ2xELE1BQU1DLGlCQUFpQixJQUFJQyxLQUFLaEIsZUFBZWlCLFFBQVE7WUFDdkQsSUFBSUMsbUJBQW1CeEM7WUFFdkIsSUFBSXFDLG1CQUFtQixHQUFHO2dCQUN4QixJQUFJaEIsZ0JBQWdCLE9BQU87b0JBQ3pCbUIsbUJBQW1CLEtBQUssa0NBQWtDO2dCQUM1RCxPQUFPO29CQUNMQSxtQkFBbUIsS0FBSyxrQ0FBa0M7Z0JBQzVEO1lBQ0Y7WUFFQSxNQUFNQyxrQkFBa0IsQ0FBQ1IsZ0JBQWlCLEtBQUlPLGdCQUFlLENBQUMsRUFBR0UsT0FBTyxDQUFDO1lBRXpFLE9BQU87Z0JBQ0wsR0FBR1YsS0FBSztnQkFDUkcsT0FBTztvQkFDTCxHQUFHSCxNQUFNRyxLQUFLO29CQUNkQyxPQUFPSztnQkFDVDtZQUNGO1FBQ0Y7UUFFQSxPQUFPM0MscURBQVlBLENBQUMyQixJQUFJLENBQUNJO0lBQzNCLEVBQUUsT0FBT2QsT0FBTztRQUNkNEIsUUFBUTVCLEtBQUssQ0FBQywrQkFBK0JBO1FBRTdDLElBQUk2QixlQUFlO1FBQ25CLElBQUkzQixhQUFhO1FBRWpCLElBQUlGLE1BQU1KLFFBQVEsRUFBRTtZQUNsQixNQUFNLEVBQUVNLFlBQVk0QixrQkFBa0IsRUFBRUMsTUFBTSxFQUFFLEdBQUcvQixNQUFNSixRQUFRO1lBRWpFLElBQUlrQyx1QkFBdUIsS0FBSztnQkFDOUJELGVBQWU7WUFDakIsT0FBTyxJQUFJQyx1QkFBdUIsS0FBSztnQkFDckNELGVBQWU7WUFDakIsT0FBTztnQkFDTEEsZUFBZUUsUUFBUUMscUJBQXFCRCxRQUFRRSxTQUFTSjtnQkFDN0QzQixhQUFhNEI7WUFDZjtRQUNGO1FBRUEsT0FBTy9DLHFEQUFZQSxDQUFDMkIsSUFBSSxDQUFDO1lBQUV3QixTQUFTTDtZQUFjTSxTQUFTbkMsTUFBTWtDLE9BQU87UUFBQyxHQUFHO1lBQUV2QixRQUFRVDtRQUFXO0lBQ25HO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS10cmF2ZWwtYWdlbmN5Ly4vc3JjL2FwcC9hcGkvc2VhcmNoRmxpZ2h0cy9yb3V0ZS5qcz83YjUwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCBhbWFkZXVzIGZyb20gJy4uLy4uLy4uL2xpYi9hbWFkZXVzJztcblxuY29uc3QgTUFSR0lOX1BFUkNFTlRBR0UgPSAwLjEwOyAvLyBNYXJnZW4gZGUgZ2FuYW5jaWEgcG9yIGRlZmVjdG8gZGVsIDE1JVxuY29uc3QgTUFYX1JFVFJJRVMgPSAzO1xuY29uc3QgUkVUUllfREVMQVkgPSAyMDAwOyAvLyAyIHNlZ3VuZG9zXG5cbmNvbnN0IGRlbGF5ID0gKG1zKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpO1xuXG5jb25zdCBmZXRjaEZsaWdodE9mZmVycyA9IGFzeW5jIChwYXJhbXMsIHJldHJpZXMgPSAwKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhbWFkZXVzLnNob3BwaW5nLmZsaWdodE9mZmVyc1NlYXJjaC5nZXQocGFyYW1zKTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKGVycm9yLmNvZGUgPT09ICdDbGllbnRFcnJvcicgJiYgZXJyb3IucmVzcG9uc2Uuc3RhdHVzQ29kZSA9PT0gNDI5ICYmIHJldHJpZXMgPCBNQVhfUkVUUklFUykge1xuICAgICAgYXdhaXQgZGVsYXkoUkVUUllfREVMQVkpO1xuICAgICAgcmV0dXJuIGZldGNoRmxpZ2h0T2ZmZXJzKHBhcmFtcywgcmV0cmllcyArIDEpO1xuICAgIH1cbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHsgb3JpZ2luLCBkZXN0aW5hdGlvbiwgZGVwYXJ0dXJlRGF0ZSwgcmV0dXJuRGF0ZSwgYWR1bHRzIH0gPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcblxuICAgIGlmICghb3JpZ2luIHx8ICFkZXN0aW5hdGlvbiB8fCAhZGVwYXJ0dXJlRGF0ZSB8fCAhYWR1bHRzKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ01pc3NpbmcgcmVxdWlyZWQgZmllbGRzJyB9LCB7IHN0YXR1czogNDAwIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgIG9yaWdpbkxvY2F0aW9uQ29kZTogb3JpZ2luLFxuICAgICAgZGVzdGluYXRpb25Mb2NhdGlvbkNvZGU6IGRlc3RpbmF0aW9uLFxuICAgICAgZGVwYXJ0dXJlRGF0ZSxcbiAgICAgIGFkdWx0cyxcbiAgICB9O1xuXG4gICAgaWYgKHJldHVybkRhdGUpIHtcbiAgICAgIHBhcmFtcy5yZXR1cm5EYXRlID0gcmV0dXJuRGF0ZTtcbiAgICB9XG5cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoRmxpZ2h0T2ZmZXJzKHBhcmFtcyk7XG5cbiAgICBjb25zdCBmbGlnaHRPZmZlcnMgPSByZXNwb25zZS5kYXRhLm1hcCgob2ZmZXIpID0+IHtcbiAgICAgIGNvbnN0IG9yaWdpbmFsUHJpY2UgPSBwYXJzZUZsb2F0KG9mZmVyLnByaWNlLnRvdGFsKTtcbiAgICAgIGNvbnN0IGRlcGFydHVyZU1vbnRoID0gbmV3IERhdGUoZGVwYXJ0dXJlRGF0ZSkuZ2V0TW9udGgoKTtcbiAgICAgIGxldCBtYXJnaW5QZXJjZW50YWdlID0gTUFSR0lOX1BFUkNFTlRBR0U7XG5cbiAgICAgIGlmIChkZXBhcnR1cmVNb250aCA9PT0gOCkgeyAvLyBTZXB0aWVtYnJlIGVzIGVsIG1lcyA4ICgwIGluZGV4YWRvKVxuICAgICAgICBpZiAoZGVzdGluYXRpb24gPT09ICdHSUcnKSB7XG4gICAgICAgICAgbWFyZ2luUGVyY2VudGFnZSA9IDAuMTsgLy8gQWp1c3RhIGVzdG8gc2Vnw7puIHNlYSBuZWNlc2FyaW9cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtYXJnaW5QZXJjZW50YWdlID0gMC4wOyAvLyBBanVzdGEgZXN0byBzZWfDum4gc2VhIG5lY2VzYXJpb1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHByaWNlV2l0aE1hcmdpbiA9IChvcmlnaW5hbFByaWNlICogKDEgKyBtYXJnaW5QZXJjZW50YWdlKSkudG9GaXhlZCgyKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ub2ZmZXIsXG4gICAgICAgIHByaWNlOiB7XG4gICAgICAgICAgLi4ub2ZmZXIucHJpY2UsXG4gICAgICAgICAgdG90YWw6IHByaWNlV2l0aE1hcmdpbixcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oZmxpZ2h0T2ZmZXJzKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBmbGlnaHQgZGF0YTonLCBlcnJvcik7XG5cbiAgICBsZXQgZXJyb3JNZXNzYWdlID0gJ0Vycm9yIGZldGNoaW5nIGZsaWdodCBkYXRhJztcbiAgICBsZXQgc3RhdHVzQ29kZSA9IDUwMDtcblxuICAgIGlmIChlcnJvci5yZXNwb25zZSkge1xuICAgICAgY29uc3QgeyBzdGF0dXNDb2RlOiByZXNwb25zZVN0YXR1c0NvZGUsIHJlc3VsdCB9ID0gZXJyb3IucmVzcG9uc2U7XG5cbiAgICAgIGlmIChyZXNwb25zZVN0YXR1c0NvZGUgPT09IDQwMSkge1xuICAgICAgICBlcnJvck1lc3NhZ2UgPSAnQXV0aGVudGljYXRpb24gZmFpbGVkLiBQbGVhc2UgY2hlY2sgeW91ciBjcmVkZW50aWFscy4nO1xuICAgICAgfSBlbHNlIGlmIChyZXNwb25zZVN0YXR1c0NvZGUgPT09IDQyOSkge1xuICAgICAgICBlcnJvck1lc3NhZ2UgPSAnVG9vIG1hbnkgcmVxdWVzdHMuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IHJlc3VsdD8uZXJyb3JfZGVzY3JpcHRpb24gfHwgcmVzdWx0Py50aXRsZSB8fCBlcnJvck1lc3NhZ2U7XG4gICAgICAgIHN0YXR1c0NvZGUgPSByZXNwb25zZVN0YXR1c0NvZGU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgbWVzc2FnZTogZXJyb3JNZXNzYWdlLCBkZXRhaWxzOiBlcnJvci5tZXNzYWdlIH0sIHsgc3RhdHVzOiBzdGF0dXNDb2RlIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiYW1hZGV1cyIsIk1BUkdJTl9QRVJDRU5UQUdFIiwiTUFYX1JFVFJJRVMiLCJSRVRSWV9ERUxBWSIsImRlbGF5IiwibXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJmZXRjaEZsaWdodE9mZmVycyIsInBhcmFtcyIsInJldHJpZXMiLCJyZXNwb25zZSIsInNob3BwaW5nIiwiZmxpZ2h0T2ZmZXJzU2VhcmNoIiwiZ2V0IiwiZXJyb3IiLCJjb2RlIiwic3RhdHVzQ29kZSIsIlBPU1QiLCJyZXF1ZXN0Iiwib3JpZ2luIiwiZGVzdGluYXRpb24iLCJkZXBhcnR1cmVEYXRlIiwicmV0dXJuRGF0ZSIsImFkdWx0cyIsImpzb24iLCJzdGF0dXMiLCJvcmlnaW5Mb2NhdGlvbkNvZGUiLCJkZXN0aW5hdGlvbkxvY2F0aW9uQ29kZSIsImZsaWdodE9mZmVycyIsImRhdGEiLCJtYXAiLCJvZmZlciIsIm9yaWdpbmFsUHJpY2UiLCJwYXJzZUZsb2F0IiwicHJpY2UiLCJ0b3RhbCIsImRlcGFydHVyZU1vbnRoIiwiRGF0ZSIsImdldE1vbnRoIiwibWFyZ2luUGVyY2VudGFnZSIsInByaWNlV2l0aE1hcmdpbiIsInRvRml4ZWQiLCJjb25zb2xlIiwiZXJyb3JNZXNzYWdlIiwicmVzcG9uc2VTdGF0dXNDb2RlIiwicmVzdWx0IiwiZXJyb3JfZGVzY3JpcHRpb24iLCJ0aXRsZSIsIm1lc3NhZ2UiLCJkZXRhaWxzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/searchFlights/route.js\n");

/***/ }),

/***/ "(rsc)/./src/lib/amadeus.js":
/*!****************************!*\
  !*** ./src/lib/amadeus.js ***!
  \****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   searchLocation: () => (/* binding */ searchLocation)\n/* harmony export */ });\n/* harmony import */ var amadeus__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! amadeus */ \"(rsc)/./node_modules/amadeus/lib/amadeus.js\");\n\nconst environment = \"production\";\nconst amadeus = new amadeus__WEBPACK_IMPORTED_MODULE_0__({\n    clientId: process.env.AMADEUS_CLIENT_ID,\n    clientSecret: process.env.AMADEUS_CLIENT_SECRET,\n    hostname: \"production\"\n});\n// Verificación de variables de entorno\nif (!process.env.AMADEUS_CLIENT_ID || !process.env.AMADEUS_CLIENT_SECRET) {\n    console.error(\"Faltan las variables de entorno AMADEUS_CLIENT_ID o AMADEUS_CLIENT_SECRET\");\n} else {\n    console.log(\"Amadeus Client ID:\", process.env.AMADEUS_CLIENT_ID);\n    console.log(\"Amadeus Client Secret:\", process.env.AMADEUS_CLIENT_SECRET);\n}\nconst searchLocation = async (city)=>{\n    try {\n        const response = await amadeus.referenceData.locations.get({\n            keyword: city,\n            subType: \"AIRPORT,CITY\"\n        });\n        console.log(\"Resultados de b\\xfasqueda de ubicaci\\xf3n:\", response.data);\n        return response.data;\n    } catch (error) {\n        console.error(\"Error fetching location data:\", error);\n        throw error;\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (amadeus);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2FtYWRldXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQThCO0FBRTlCLE1BQU1DLGNBQWNDLFlBQTJDO0FBQy9ELE1BQU1HLFVBQVUsSUFBSUwsb0NBQU9BLENBQUM7SUFDMUJNLFVBQVVKLFFBQVFDLEdBQUcsQ0FBQ0ksaUJBQWlCO0lBQ3ZDQyxjQUFjTixRQUFRQyxHQUFHLENBQUNNLHFCQUFxQjtJQUMvQ0MsVUFBVTtBQUNaO0FBRUEsdUNBQXVDO0FBQ3ZDLElBQUksQ0FBQ1IsUUFBUUMsR0FBRyxDQUFDSSxpQkFBaUIsSUFBSSxDQUFDTCxRQUFRQyxHQUFHLENBQUNNLHFCQUFxQixFQUFFO0lBQ3hFRSxRQUFRQyxLQUFLLENBQUM7QUFDaEIsT0FBTztJQUNMRCxRQUFRRSxHQUFHLENBQUMsc0JBQXNCWCxRQUFRQyxHQUFHLENBQUNJLGlCQUFpQjtJQUMvREksUUFBUUUsR0FBRyxDQUFDLDBCQUEwQlgsUUFBUUMsR0FBRyxDQUFDTSxxQkFBcUI7QUFDekU7QUFFTyxNQUFNSyxpQkFBaUIsT0FBT0M7SUFDbkMsSUFBSTtRQUNGLE1BQU1DLFdBQVcsTUFBTVgsUUFBUVksYUFBYSxDQUFDQyxTQUFTLENBQUNDLEdBQUcsQ0FBQztZQUN6REMsU0FBU0w7WUFDVE0sU0FBUztRQUNYO1FBQ0FWLFFBQVFFLEdBQUcsQ0FBQyw4Q0FBd0NHLFNBQVNNLElBQUk7UUFDakUsT0FBT04sU0FBU00sSUFBSTtJQUN0QixFQUFFLE9BQU9WLE9BQU87UUFDZEQsUUFBUUMsS0FBSyxDQUFDLGlDQUFpQ0E7UUFDL0MsTUFBTUE7SUFDUjtBQUNGLEVBQUU7QUFFRixpRUFBZVAsT0FBT0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL215LXRyYXZlbC1hZ2VuY3kvLi9zcmMvbGliL2FtYWRldXMuanM/ZDMzOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQW1hZGV1cyBmcm9tICdhbWFkZXVzJztcblxuY29uc3QgZW52aXJvbm1lbnQgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BTUFERVVTX0VOVklST05NRU5UO1xuY29uc3QgYW1hZGV1cyA9IG5ldyBBbWFkZXVzKHtcbiAgY2xpZW50SWQ6IHByb2Nlc3MuZW52LkFNQURFVVNfQ0xJRU5UX0lELFxuICBjbGllbnRTZWNyZXQ6IHByb2Nlc3MuZW52LkFNQURFVVNfQ0xJRU5UX1NFQ1JFVCxcbiAgaG9zdG5hbWU6ICdwcm9kdWN0aW9uJywgIC8vIFBydWViYSBmb3J6YW5kbyBhICdwcm9kdWN0aW9uJ1xufSk7XG5cbi8vIFZlcmlmaWNhY2nDs24gZGUgdmFyaWFibGVzIGRlIGVudG9ybm9cbmlmICghcHJvY2Vzcy5lbnYuQU1BREVVU19DTElFTlRfSUQgfHwgIXByb2Nlc3MuZW52LkFNQURFVVNfQ0xJRU5UX1NFQ1JFVCkge1xuICBjb25zb2xlLmVycm9yKCdGYWx0YW4gbGFzIHZhcmlhYmxlcyBkZSBlbnRvcm5vIEFNQURFVVNfQ0xJRU5UX0lEIG8gQU1BREVVU19DTElFTlRfU0VDUkVUJyk7XG59IGVsc2Uge1xuICBjb25zb2xlLmxvZygnQW1hZGV1cyBDbGllbnQgSUQ6JywgcHJvY2Vzcy5lbnYuQU1BREVVU19DTElFTlRfSUQpO1xuICBjb25zb2xlLmxvZygnQW1hZGV1cyBDbGllbnQgU2VjcmV0OicsIHByb2Nlc3MuZW52LkFNQURFVVNfQ0xJRU5UX1NFQ1JFVCk7XG59XG5cbmV4cG9ydCBjb25zdCBzZWFyY2hMb2NhdGlvbiA9IGFzeW5jIChjaXR5KSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhbWFkZXVzLnJlZmVyZW5jZURhdGEubG9jYXRpb25zLmdldCh7XG4gICAgICBrZXl3b3JkOiBjaXR5LFxuICAgICAgc3ViVHlwZTogJ0FJUlBPUlQsQ0lUWScsXG4gICAgfSk7XG4gICAgY29uc29sZS5sb2coJ1Jlc3VsdGFkb3MgZGUgYsO6c3F1ZWRhIGRlIHViaWNhY2nDs246JywgcmVzcG9uc2UuZGF0YSk7XG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgbG9jYXRpb24gZGF0YTonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGFtYWRldXM7XG4iXSwibmFtZXMiOlsiQW1hZGV1cyIsImVudmlyb25tZW50IiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0FNQURFVVNfRU5WSVJPTk1FTlQiLCJhbWFkZXVzIiwiY2xpZW50SWQiLCJBTUFERVVTX0NMSUVOVF9JRCIsImNsaWVudFNlY3JldCIsIkFNQURFVVNfQ0xJRU5UX1NFQ1JFVCIsImhvc3RuYW1lIiwiY29uc29sZSIsImVycm9yIiwibG9nIiwic2VhcmNoTG9jYXRpb24iLCJjaXR5IiwicmVzcG9uc2UiLCJyZWZlcmVuY2VEYXRhIiwibG9jYXRpb25zIiwiZ2V0Iiwia2V5d29yZCIsInN1YlR5cGUiLCJkYXRhIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/amadeus.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/amadeus","vendor-chunks/es-errors","vendor-chunks/qs","vendor-chunks/object-inspect","vendor-chunks/has-symbols","vendor-chunks/function-bind","vendor-chunks/call-bind","vendor-chunks/side-channel","vendor-chunks/set-function-length","vendor-chunks/hasown","vendor-chunks/has-proto","vendor-chunks/has-property-descriptors","vendor-chunks/gopd","vendor-chunks/get-intrinsic","vendor-chunks/es-define-property","vendor-chunks/define-data-property"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2FsearchFlights%2Froute&page=%2Fapi%2FsearchFlights%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2FsearchFlights%2Froute.js&appDir=%2FUsers%2Fmarlonmontanez%2Fmy-travel-agency%2Fviajandoen%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmarlonmontanez%2Fmy-travel-agency%2Fviajandoen&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();